import{r as s,j as t}from"./vendor-react-CvxLrFbY.js";import{M as ne}from"./index-BRUjA2Tl.js";import{u as I}from"./vendor-react-i18next-CV9wn5jO.js";import{ae as T,af as k,av as y}from"./vendor-lucide-react-CYRm5Z9O.js";import"./vendor-clsx-DMbM62ou.js";import"./vendor-react-dom-ovwEKgq_.js";import"./vendor-scheduler-SPyfQU6S.js";import"./vendor-i18next-http-backend-BlWUewvL.js";import"./vendor-react-rnd-CJIym3is.js";import"./vendor-react-draggable-CHzIUO8G.js";import"./vendor-prop-types-Chjiymov.js";import"./vendor-re-resizable-Bd8fNV1d.js";import"./vendor-dnd-kit-core-C4pUYSBz.js";import"./vendor-dnd-kit-utilities-CZrAEsTl.js";import"./vendor-dnd-kit-accessibility-DKV5GxcV.js";import"./vendor-dnd-kit-sortable-BobZZm17.js";import"./vendor-fflate-PjZAcS34.js";import"./vendor-framer-motion-FfyGqyL8.js";import"./vendor-motion-dom-DtvSSoo0.js";import"./vendor-motion-utils-CjIqCkNq.js";import"./vendor-i18next-Bvlggjj8.js";import"./vendor-i18next-browser-languagedetector-OJKzRF51.js";import"./vendor-html-parse-stringify-C3VvPRF8.js";import"./vendor-void-elements-SshaXqDN.js";const te=()=>{const{t:h}=I(),[a,g]=s.useState(5),[c,b]=s.useState(0),[u,v]=s.useState(300),[n,l]=s.useState(300),[r,m]=s.useState(!1),p=s.useRef(null),[S,j]=s.useState(48),f=s.useRef(48);s.useEffect(()=>{let e;return r&&n>0?e=setInterval(()=>{l(o=>o-1)},1e3):n===0&&r&&m(!1),()=>clearInterval(e)},[r,n]);const w=()=>{const e=a*60+c;v(e),r||l(e)};s.useEffect(w,[a,c]),s.useEffect(()=>{const e=p.current;if(!e)return;const o=()=>{const{width:R,height:M}=e.getBoundingClientRect(),C=Math.max(32,Math.min(R*.3,M*.7)),d=Math.floor(C);d!==f.current&&(f.current=d,j(d))};o();const i=new ResizeObserver(o);return i.observe(e),()=>i.disconnect()},[]);const z=()=>{u<=0||(n===0&&x(),m(!r))},x=()=>{m(!1),l(u)},N=e=>{const o=Math.floor(e/60),i=e%60;return`${String(o).padStart(2,"0")}:${String(i).padStart(2,"0")}`};return t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-text-dark p-4 overflow-hidden",children:[t.jsx("div",{className:"flex-1 w-full flex items-center justify-center",ref:p,children:t.jsx("div",{className:"font-bold font-mono leading-none",style:{fontSize:`${S}px`,color:"var(--color-text-light)",textShadow:"0 2px 8px rgba(0, 0, 0, 0.55)",WebkitTextStroke:"1px rgba(0, 0, 0, 0.45)"},children:n===0&&!r?h("widgets.timer.finished"):N(n)})}),t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("input",{type:"number",className:"w-20 text-center bg-white/85 border-2 border-accent rounded p-1 text-text-dark",value:a,onChange:e=>g(Math.max(0,parseInt(e.target.value)||0)),disabled:r}),t.jsx("span",{className:"text-2xl font-bold",children:":"}),t.jsx("input",{type:"number",className:"w-20 text-center bg-white/85 border-2 border-accent rounded p-1 text-text-dark",value:c,onChange:e=>b(Math.max(0,Math.min(59,parseInt(e.target.value)||0))),disabled:r})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:z,className:"p-3 bg-accent rounded-full hover:bg-[#8ec9c9]",children:r?t.jsx(T,{size:24}):t.jsx(k,{size:24})}),t.jsx("button",{onClick:x,className:"p-3 bg-white/85 border-2 border-accent rounded-full hover:bg-accent/50",children:t.jsx(y,{size:24})})]})]})};export{te as TimerWidget,ne as widgetConfig};
