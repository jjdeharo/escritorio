import{N as p,n as f,c as m,i as h,m as T}from"./vendor-tiptap-core-CKFakkLY.js";import{T as r,N as A}from"./vendor-prosemirror-state-NYKsNaF9.js";var y=p.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",T(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:o})=>{if(!m(o,o.schema.nodes[this.name]))return!1;const{selection:i}=o,{$to:d}=i,s=n();return h(i)?s.insertContentAt(d.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:e,dispatch:u})=>{var a;if(u){const{$to:t}=e.selection,c=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(r.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(A.create(e.doc,t.pos)):e.setSelection(r.create(e.doc,t.pos));else{const l=(a=t.parent.type.contentMatch.defaultType)==null?void 0:a.create();l&&(e.insert(c,l),e.setSelection(r.create(e.doc,c+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[f({find:/^(?:---|â€”-|___\s|\*\*\*\s)$/,type:this.type})]}});export{y as H};
