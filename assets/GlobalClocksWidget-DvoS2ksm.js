import{r as l,j as e}from"./vendor-react-CvxLrFbY.js";import{u as h}from"./index-BRUjA2Tl.js";import{p as H}from"./index-BRUjA2Tl.js";import{u as k}from"./vendor-react-i18next-CV9wn5jO.js";import{T as j}from"./vendor-lucide-react-CYRm5Z9O.js";import"./vendor-clsx-DMbM62ou.js";import"./vendor-react-dom-ovwEKgq_.js";import"./vendor-scheduler-SPyfQU6S.js";import"./vendor-i18next-http-backend-BlWUewvL.js";import"./vendor-react-rnd-CJIym3is.js";import"./vendor-react-draggable-CHzIUO8G.js";import"./vendor-prop-types-Chjiymov.js";import"./vendor-re-resizable-Bd8fNV1d.js";import"./vendor-dnd-kit-core-C4pUYSBz.js";import"./vendor-dnd-kit-utilities-CZrAEsTl.js";import"./vendor-dnd-kit-accessibility-DKV5GxcV.js";import"./vendor-dnd-kit-sortable-BobZZm17.js";import"./vendor-fflate-PjZAcS34.js";import"./vendor-framer-motion-FfyGqyL8.js";import"./vendor-motion-dom-DtvSSoo0.js";import"./vendor-motion-utils-CjIqCkNq.js";import"./vendor-i18next-Bvlggjj8.js";import"./vendor-i18next-browser-languagedetector-OJKzRF51.js";import"./vendor-html-parse-stringify-C3VvPRF8.js";import"./vendor-void-elements-SshaXqDN.js";const d=[{cityKey:"los_angeles",timezone:"America/Los_Angeles"},{cityKey:"new_york",timezone:"America/New_York"},{cityKey:"london",timezone:"Europe/London"},{cityKey:"paris",timezone:"Europe/Paris"},{cityKey:"madrid",timezone:"Europe/Madrid"},{cityKey:"tokyo",timezone:"Asia/Tokyo"},{cityKey:"sydney",timezone:"Australia/Sydney"},{cityKey:"mexico_city",timezone:"America/Mexico_City"},{cityKey:"buenos_aires",timezone:"America/Argentina/Buenos_Aires"},{cityKey:"moscow",timezone:"Europe/Moscow"},{cityKey:"dubai",timezone:"Asia/Dubai"},{cityKey:"shanghai",timezone:"Asia/Shanghai"}],p=i=>{const o=new Date,s=new Date(o.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(o.toLocaleString("en-US",{timeZone:i})).getTime()-s.getTime())/(1e3*60*60)},R=()=>{const{t:i}=k(),[o,s]=h("global-clocks-selection",["Europe/London","Asia/Tokyo"]),[a,y]=l.useState(new Date),[c,u]=l.useState("America/New_York");l.useEffect(()=>{const t=setInterval(()=>y(new Date),1e3);return()=>clearInterval(t)},[]);const f=()=>{c&&!o.includes(c)&&s([...o,c])},g=t=>{s(o.filter(n=>n!==t))},r=p(Intl.DateTimeFormat().resolvedOptions().timeZone);return e.jsxs("div",{className:"global-clocks-widget",children:[e.jsxs("div",{className:"clocks-list",children:[e.jsxs("div",{className:"clock-row local",children:[e.jsxs("div",{className:"city-info",children:[e.jsx("span",{className:"city-name",children:i("widgets.global_clocks.your_local_time")}),e.jsxs("span",{className:"offset",children:["GMT",r>=0?"+":"",r]})]}),e.jsx("span",{className:"time-display",children:a.toLocaleTimeString()})]}),o.map(t=>{const n=d.find(x=>x.timezone===t);if(!n)return null;const m=p(t)-r;return e.jsxs("div",{className:"clock-row",children:[e.jsxs("div",{className:"city-info",children:[e.jsx("span",{className:"city-name",children:i(`widgets.global_clocks.cities.${n.cityKey}`)}),e.jsxs("span",{className:"offset",children:[m>=0?"+":"",m,"h"]})]}),e.jsx("span",{className:"time-display",children:a.toLocaleTimeString(void 0,{timeZone:t})}),e.jsx("button",{onClick:()=>g(t),className:"remove-clock-btn",children:e.jsx(j,{size:16})})]},t)})]}),e.jsxs("div",{className:"clocks-footer",children:[e.jsx("select",{value:c,onChange:t=>u(t.target.value),children:d.filter(t=>!o.includes(t.timezone)).map(t=>e.jsx("option",{value:t.timezone,children:i(`widgets.global_clocks.cities.${t.cityKey}`)},t.timezone))}),e.jsx("button",{onClick:f,children:i("widgets.global_clocks.add_clock")})]})]})};export{R as GlobalClocksWidget,H as widgetConfig};
