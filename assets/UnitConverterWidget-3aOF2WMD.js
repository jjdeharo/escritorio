import{r as a,j as s}from"./vendor-react-CvxLrFbY.js";import{O as re}from"./index-BRUjA2Tl.js";import{u as _}from"./vendor-react-i18next-CV9wn5jO.js";import{aw as O}from"./vendor-lucide-react-CYRm5Z9O.js";import"./vendor-clsx-DMbM62ou.js";import"./vendor-react-dom-ovwEKgq_.js";import"./vendor-scheduler-SPyfQU6S.js";import"./vendor-i18next-http-backend-BlWUewvL.js";import"./vendor-react-rnd-CJIym3is.js";import"./vendor-react-draggable-CHzIUO8G.js";import"./vendor-prop-types-Chjiymov.js";import"./vendor-re-resizable-Bd8fNV1d.js";import"./vendor-dnd-kit-core-C4pUYSBz.js";import"./vendor-dnd-kit-utilities-CZrAEsTl.js";import"./vendor-dnd-kit-accessibility-DKV5GxcV.js";import"./vendor-dnd-kit-sortable-BobZZm17.js";import"./vendor-fflate-PjZAcS34.js";import"./vendor-framer-motion-FfyGqyL8.js";import"./vendor-motion-dom-DtvSSoo0.js";import"./vendor-motion-utils-CjIqCkNq.js";import"./vendor-i18next-Bvlggjj8.js";import"./vendor-i18next-browser-languagedetector-OJKzRF51.js";import"./vendor-html-parse-stringify-C3VvPRF8.js";import"./vendor-void-elements-SshaXqDN.js";const f={length:{baseUnit:"meters",units:{meters:e=>e,kilometers:e=>e/1e3,miles:e=>e/1609.34,feet:e=>e*3.28084}},weight:{baseUnit:"kilograms",units:{kilograms:e=>e,grams:e=>e*1e3,pounds:e=>e*2.20462,ounces:e=>e*35.274}},temperature:{baseUnit:"celsius",units:{celsius:e=>e,fahrenheit:e=>e*9/5+32,kelvin:e=>e+273.15}}},te=()=>{const{t:e}=_(),[l,N]=a.useState("length"),[i,d]=a.useState("meters"),[n,h]=a.useState("feet"),[v,m]=a.useState(1),[u,j]=a.useState(""),[x,c]=a.useState("from"),w=Object.keys(f[l].units);a.useEffect(()=>{const t=parseFloat(String(v)),r=parseFloat(String(u)),g=f[l].units;if(x==="from"){if(isNaN(t)){j("");return}let o;if(l==="temperature")i==="fahrenheit"?o=(t-32)*5/9:i==="kelvin"?o=t-273.15:o=t;else{const y=Object.entries(g).find(([C,S])=>C===i)[1];o=t/y(1)}const b=g[n](o);j(parseFloat(b.toFixed(4)))}else if(x==="to"){if(isNaN(r)){m("");return}let o;if(l==="temperature")n==="fahrenheit"?o=(r-32)*5/9:n==="kelvin"?o=r-273.15:o=r;else{const y=Object.entries(g).find(([C,S])=>C===n)[1];o=r/y(1)}const b=g[i](o);m(parseFloat(b.toFixed(4)))}},[v,u,i,n,l,x]);const U=t=>{m(t.target.value),c("from")},V=t=>{j(t.target.value),c("to")},k=t=>{const r=t.target.value;N(r);const p=Object.keys(f[r].units);d(p[0]),h(p[1]||p[0]),m(1),c("from")},F=()=>{d(n),h(i),m(u),c("from")};return s.jsxs("div",{className:"unit-converter-widget",children:[s.jsxs("div",{className:"category-selector",children:[s.jsx("label",{htmlFor:"category",children:e("widgets.unit_converter.category_label")}),s.jsx("select",{id:"category",value:l,onChange:k,children:Object.keys(f).map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.categories.${t}`)},t))})]}),s.jsxs("div",{className:"conversion-interface",children:[s.jsxs("div",{className:"unit-group",children:[s.jsx("input",{type:"number",value:v,onChange:U}),s.jsx("select",{value:i,onChange:t=>{d(t.target.value),c("from")},children:w.map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.units.${t}`)},t))})]}),s.jsx("button",{onClick:F,className:"swap-button",title:e("widgets.unit_converter.swap_button_title"),children:s.jsx(O,{size:20})}),s.jsxs("div",{className:"unit-group",children:[s.jsx("input",{type:"number",value:u,onChange:V}),s.jsx("select",{value:n,onChange:t=>{h(t.target.value),c("to")},children:w.map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.units.${t}`)},t))})]})]})]})};export{te as UnitConverterWidget,re as widgetConfig};
