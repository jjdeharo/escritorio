import{r as c,j as e}from"./vendor-react-CvxLrFbY.js";import{u as y}from"./index-BRUjA2Tl.js";import{L as it}from"./index-BRUjA2Tl.js";import{u as k}from"./vendor-react-i18next-CV9wn5jO.js";import{X as N,a2 as h,R as E}from"./vendor-lucide-react-CYRm5Z9O.js";import"./vendor-clsx-DMbM62ou.js";import"./vendor-react-dom-ovwEKgq_.js";import"./vendor-scheduler-SPyfQU6S.js";import"./vendor-i18next-http-backend-BlWUewvL.js";import"./vendor-react-rnd-CJIym3is.js";import"./vendor-react-draggable-CHzIUO8G.js";import"./vendor-prop-types-Chjiymov.js";import"./vendor-re-resizable-Bd8fNV1d.js";import"./vendor-dnd-kit-core-C4pUYSBz.js";import"./vendor-dnd-kit-utilities-CZrAEsTl.js";import"./vendor-dnd-kit-accessibility-DKV5GxcV.js";import"./vendor-dnd-kit-sortable-BobZZm17.js";import"./vendor-fflate-PjZAcS34.js";import"./vendor-framer-motion-FfyGqyL8.js";import"./vendor-motion-dom-DtvSSoo0.js";import"./vendor-motion-utils-CjIqCkNq.js";import"./vendor-i18next-Bvlggjj8.js";import"./vendor-i18next-browser-languagedetector-OJKzRF51.js";import"./vendor-html-parse-stringify-C3VvPRF8.js";import"./vendor-void-elements-SshaXqDN.js";const et=()=>{const{t:a}=k(),[o,u]=c.useState(Array(9).fill(null)),[m,x]=c.useState(!0),[i,n]=y("tictactoe-players",{X:"Jugador 1",O:"Jugador 2"});c.useEffect(()=>{const t=a("widgets.tic_tac_toe.player_1"),s=a("widgets.tic_tac_toe.player_2");t!=="widgets.tic_tac_toe.player_1"&&s!=="widgets.tic_tac_toe.player_2"&&i.X==="Jugador 1"&&i.O==="Jugador 2"&&n({X:t,O:s})},[a,i,n]);const[_,d]=y("tictactoe-score",{X:0,O:0}),[r,g]=c.useState(null),f=(t,s)=>{n({...i,[t]:s})},X=t=>{const s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let p=0;p<s.length;p++){const[l,v,z]=s[p];if(t[l]&&t[l]===t[v]&&t[l]===t[z])return t[l]}return null};c.useEffect(()=>{const t=X(o);t&&!r&&(g(t),d(s=>({...s,[t]:s[t]+1})))},[o,r,d]);const b=t=>{if(r||o[t])return;const s=[...o];s[t]=m?"X":"O",u(s),x(!m)},j=()=>{u(Array(9).fill(null)),g(null),x(!0)},O=()=>{window.confirm(a("widgets.tic_tac_toe.reset_confirm"))&&(j(),d({X:0,O:0}),n({X:a("widgets.tic_tac_toe.player_1"),O:a("widgets.tic_tac_toe.player_2")}))},w=!r&&o.every(Boolean),C=r?`${a("widgets.tic_tac_toe.winner")} ${i[r]}!`:w?a("widgets.tic_tac_toe.draw"):`${a("widgets.tic_tac_toe.next_turn")} ${i[m?"X":"O"]}`;return e.jsxs("div",{className:"tic-tac-toe-widget",children:[e.jsxs("div",{className:"game-info",children:[e.jsxs("div",{className:"player-input",children:[e.jsx(N,{size:16,className:"text-blue-500"}),e.jsx("input",{type:"text",value:i.X,onChange:t=>f("X",t.target.value)}),e.jsx("span",{className:"player-score",children:_.X})]}),e.jsxs("div",{className:"player-input",children:[e.jsx(h,{size:16,className:"text-red-500"}),e.jsx("input",{type:"text",value:i.O,onChange:t=>f("O",t.target.value)}),e.jsx("span",{className:"player-score",children:_.O})]})]}),e.jsx("div",{className:"game-board-container",children:e.jsx("div",{className:"game-board",children:o.map((t,s)=>e.jsxs("button",{className:"square",onClick:()=>b(s),disabled:!!t||!!r,children:[t==="X"&&e.jsx(N,{size:48,className:"text-blue-500"}),t==="O"&&e.jsx(h,{size:48,className:"text-red-500"})]},s))})}),e.jsxs("div",{className:"game-footer",children:[e.jsx("p",{className:"status",children:C}),(r||w)&&e.jsx("button",{onClick:j,className:"action-button",children:a("widgets.tic_tac_toe.next_round")}),e.jsx("button",{onClick:O,className:"reset-game-button",title:a("widgets.tic_tac_toe.reset_all"),children:e.jsx(E,{size:16})})]})]})};export{et as TicTacToeWidget,it as widgetConfig};
