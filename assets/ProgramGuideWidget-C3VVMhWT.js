import{u as E,r as t,j as s}from"./react-vendor-C9LHBUkp.js";import{d as G}from"./markdown-vendor-Cp29AwN3.js";import{B as h}from"./index-DIQ32RE2.js";import{C as L}from"./index-DIQ32RE2.js";import"./vendor-BnVc6iZf.js";import"./editor-vendor-Dlj3R3R2.js";import"./i18n-vendor-DdbEjq8F.js";const d={es:"Guia-Escritorio-Digital.md",ca:"Guia-Escritorio-Digital.ca.md",eu:"Guia-Escritorio-Digital.eu.md",gl:"Guia-Escritorio-Digital.gl.md",en:"Guia-Escritorio-Digital.en.md",fr:"Guia-Escritorio-Digital.fr.md",it:"Guia-Escritorio-Digital.it.md",de:"Guia-Escritorio-Digital.de.md",pt:"Guia-Escritorio-Digital.pt.md"},x=i=>{const e=i.split("-")[0];return d[e]??d.es},_=()=>{const{t:i,i18n:e}=E(),[c,l]=t.useState(""),[g,o]=t.useState(!0),[m,a]=t.useState(!1),n=t.useMemo(()=>x(e.language),[e.language]);return t.useEffect(()=>{let r=!0;return(async()=>{o(!0),a(!1);try{const u=await fetch(h(n),{cache:"no-store"});if(!u.ok)throw new Error("Guide not found");const f=await u.text(),p=G.parse(f);r&&l(p)}catch{r&&a(!0)}finally{r&&o(!1)}})(),()=>{r=!1}},[n]),g?s.jsx("div",{className:"program-guide-status",children:i("loading")}):m?s.jsx("div",{className:"program-guide-status",children:i("widgets.program_guide.load_error")}):s.jsx("div",{className:"program-guide-content",children:s.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:c}})})};export{_ as ProgramGuideWidget,L as widgetConfig};
