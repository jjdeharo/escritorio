import{u as k,a as p,r,j as e,T as j}from"./index-Drqpmo9T.js";import{y as _}from"./index-Drqpmo9T.js";const d=[{cityKey:"los_angeles",timezone:"America/Los_Angeles"},{cityKey:"new_york",timezone:"America/New_York"},{cityKey:"london",timezone:"Europe/London"},{cityKey:"paris",timezone:"Europe/Paris"},{cityKey:"madrid",timezone:"Europe/Madrid"},{cityKey:"tokyo",timezone:"Asia/Tokyo"},{cityKey:"sydney",timezone:"Australia/Sydney"},{cityKey:"mexico_city",timezone:"America/Mexico_City"},{cityKey:"buenos_aires",timezone:"America/Argentina/Buenos_Aires"},{cityKey:"moscow",timezone:"Europe/Moscow"},{cityKey:"dubai",timezone:"Asia/Dubai"},{cityKey:"shanghai",timezone:"Asia/Shanghai"}],y=i=>{const t=new Date,o=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:i})).getTime()-o.getTime())/(1e3*60*60)},N=()=>{const{t:i}=k(),[t,o]=p("global-clocks-selection",["Europe/London","Asia/Tokyo"]),[a,u]=r.useState(new Date),[c,f]=r.useState("America/New_York");r.useEffect(()=>{const s=setInterval(()=>u(new Date),1e3);return()=>clearInterval(s)},[]);const g=()=>{c&&!t.includes(c)&&o([...t,c])},x=s=>{o(t.filter(n=>n!==s))},l=y(Intl.DateTimeFormat().resolvedOptions().timeZone);return e.jsxs("div",{className:"global-clocks-widget",children:[e.jsxs("div",{className:"clocks-list",children:[e.jsxs("div",{className:"clock-row local",children:[e.jsxs("div",{className:"city-info",children:[e.jsx("span",{className:"city-name",children:i("widgets.global_clocks.your_local_time")}),e.jsxs("span",{className:"offset",children:["GMT",l>=0?"+":"",l]})]}),e.jsx("span",{className:"time-display",children:a.toLocaleTimeString()})]}),t.map(s=>{const n=d.find(h=>h.timezone===s);if(!n)return null;const m=y(s)-l;return e.jsxs("div",{className:"clock-row",children:[e.jsxs("div",{className:"city-info",children:[e.jsx("span",{className:"city-name",children:i(`widgets.global_clocks.cities.${n.cityKey}`)}),e.jsxs("span",{className:"offset",children:[m>=0?"+":"",m,"h"]})]}),e.jsx("span",{className:"time-display",children:a.toLocaleTimeString(void 0,{timeZone:s})}),e.jsx("button",{onClick:()=>x(s),className:"remove-clock-btn",children:e.jsx(j,{size:16})})]},s)})]}),e.jsxs("div",{className:"clocks-footer",children:[e.jsx("select",{value:c,onChange:s=>f(s.target.value),children:d.filter(s=>!t.includes(s.timezone)).map(s=>e.jsx("option",{value:s.timezone,children:i(`widgets.global_clocks.cities.${s.cityKey}`)},s.timezone))}),e.jsx("button",{onClick:g,children:i("widgets.global_clocks.add_clock")})]})]})};export{N as GlobalClocksWidget,_ as widgetConfig};
