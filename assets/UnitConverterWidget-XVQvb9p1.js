import{c as S,u as O,r as i,j as s}from"./index-DZlaiE3f.js";import{a3 as B}from"./index-DZlaiE3f.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],E=S("arrow-right-left",T),m={length:{baseUnit:"meters",units:{meters:e=>e,kilometers:e=>e/1e3,miles:e=>e/1609.34,feet:e=>e*3.28084}},weight:{baseUnit:"kilograms",units:{kilograms:e=>e,grams:e=>e*1e3,pounds:e=>e*2.20462,ounces:e=>e*35.274}},temperature:{baseUnit:"celsius",units:{celsius:e=>e,fahrenheit:e=>e*9/5+32,kelvin:e=>e+273.15}}},R=()=>{const{t:e}=O(),[l,w]=i.useState("length"),[o,f]=i.useState("meters"),[r,p]=i.useState("feet"),[v,u]=i.useState(1),[g,x]=i.useState(""),[j,c]=i.useState("from"),k=Object.keys(m[l].units);i.useEffect(()=>{const t=parseFloat(String(v)),a=parseFloat(String(g)),d=m[l].units;if(j==="from"){if(isNaN(t)){x("");return}let n;if(l==="temperature")o==="fahrenheit"?n=(t-32)*5/9:o==="kelvin"?n=t-273.15:n=t;else{const b=Object.entries(d).find(([C,F])=>C===o)[1];n=t/b(1)}const y=d[r](n);x(parseFloat(y.toFixed(4)))}else if(j==="to"){if(isNaN(a)){u("");return}let n;if(l==="temperature")r==="fahrenheit"?n=(a-32)*5/9:r==="kelvin"?n=a-273.15:n=a;else{const b=Object.entries(d).find(([C,F])=>C===r)[1];n=a/b(1)}const y=d[o](n);u(parseFloat(y.toFixed(4)))}},[v,g,o,r,l,j]);const N=t=>{u(t.target.value),c("from")},_=t=>{x(t.target.value),c("to")},U=t=>{const a=t.target.value;w(a);const h=Object.keys(m[a].units);f(h[0]),p(h[1]||h[0]),u(1),c("from")},V=()=>{f(r),p(o),u(g),c("from")};return s.jsxs("div",{className:"unit-converter-widget",children:[s.jsxs("div",{className:"category-selector",children:[s.jsx("label",{htmlFor:"category",children:e("widgets.unit_converter.category_label")}),s.jsx("select",{id:"category",value:l,onChange:U,children:Object.keys(m).map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.categories.${t}`)},t))})]}),s.jsxs("div",{className:"conversion-interface",children:[s.jsxs("div",{className:"unit-group",children:[s.jsx("input",{type:"number",value:v,onChange:N}),s.jsx("select",{value:o,onChange:t=>{f(t.target.value),c("from")},children:k.map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.units.${t}`)},t))})]}),s.jsx("button",{onClick:V,className:"swap-button",title:e("widgets.unit_converter.swap_button_title"),children:s.jsx(E,{size:20})}),s.jsxs("div",{className:"unit-group",children:[s.jsx("input",{type:"number",value:g,onChange:_}),s.jsx("select",{value:r,onChange:t=>{p(t.target.value),c("to")},children:k.map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.units.${t}`)},t))})]})]})]})};export{R as UnitConverterWidget,B as widgetConfig};
