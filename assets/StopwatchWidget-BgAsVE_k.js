import{r as n,j as t}from"./vendor-react-CvxLrFbY.js";import{K as st}from"./index-BRUjA2Tl.js";import{u as N}from"./vendor-react-i18next-CV9wn5jO.js";import{R as C,ae as M,af as y,au as T}from"./vendor-lucide-react-CYRm5Z9O.js";import"./vendor-clsx-DMbM62ou.js";import"./vendor-react-dom-ovwEKgq_.js";import"./vendor-scheduler-SPyfQU6S.js";import"./vendor-i18next-http-backend-BlWUewvL.js";import"./vendor-react-rnd-CJIym3is.js";import"./vendor-react-draggable-CHzIUO8G.js";import"./vendor-prop-types-Chjiymov.js";import"./vendor-re-resizable-Bd8fNV1d.js";import"./vendor-dnd-kit-core-C4pUYSBz.js";import"./vendor-dnd-kit-utilities-CZrAEsTl.js";import"./vendor-dnd-kit-accessibility-DKV5GxcV.js";import"./vendor-dnd-kit-sortable-BobZZm17.js";import"./vendor-fflate-PjZAcS34.js";import"./vendor-framer-motion-FfyGqyL8.js";import"./vendor-motion-dom-DtvSSoo0.js";import"./vendor-motion-utils-CjIqCkNq.js";import"./vendor-i18next-Bvlggjj8.js";import"./vendor-i18next-browser-languagedetector-OJKzRF51.js";import"./vendor-html-parse-stringify-C3VvPRF8.js";import"./vendor-void-elements-SshaXqDN.js";const x=s=>{const r=Math.floor(s/6e4).toString().padStart(2,"0"),c=Math.floor(s/1e3%60).toString().padStart(2,"0"),e=Math.floor(s/10%100).toString().padStart(2,"0");return`${r}:${c}.${e}`},_=()=>{const{t:s}=N(),[r,c]=n.useState(0),[e,m]=n.useState(!1),[l,d]=n.useState([]),i=n.useRef(null),u=n.useRef(null),[j,w]=n.useState(48),h=n.useRef(48);n.useEffect(()=>{if(e){const o=Date.now()-r;i.current=window.setInterval(()=>{c(Date.now()-o)},10)}else i.current&&clearInterval(i.current);return()=>{i.current&&clearInterval(i.current)}},[e,r]),n.useEffect(()=>{const o=u.current;if(!o)return;const a=()=>{const{width:z,height:R}=o.getBoundingClientRect(),b=Math.max(28,Math.min(z*.18,R*.5)),p=Math.floor(b);p!==h.current&&(h.current=p,w(p))};a();const f=new ResizeObserver(a);return f.observe(o),()=>f.disconnect()},[]);const S=()=>{m(!e)},g=()=>{m(!1),c(0),d([])},v=()=>{e&&d([r,...l])};return t.jsxs("div",{className:"stopwatch-widget",children:[t.jsx("div",{className:"time-display-container",ref:u,children:t.jsx("span",{className:"time-display-main",style:{fontSize:`${j}px`},children:x(r)})}),t.jsxs("div",{className:"controls-container",children:[t.jsxs("button",{onClick:g,className:"control-button reset",children:[t.jsx(C,{size:20}),t.jsx("span",{children:s("widgets.stopwatch.reset")})]}),t.jsxs("button",{onClick:S,className:`control-button start-stop ${e?"active":""}`,children:[e?t.jsx(M,{size:24}):t.jsx(y,{size:24}),t.jsx("span",{children:s(e?"widgets.stopwatch.pause":"widgets.stopwatch.start")})]}),t.jsxs("button",{onClick:v,disabled:!e&&r===0,className:"control-button lap",children:[t.jsx(T,{size:20}),t.jsx("span",{children:s("widgets.stopwatch.lap")})]})]}),t.jsx("div",{className:"laps-container",children:t.jsx("ul",{className:"laps-list",children:l.map((o,a)=>t.jsxs("li",{className:"lap-item",children:[t.jsxs("span",{children:[s("widgets.stopwatch.lap")," ",l.length-a]}),t.jsx("span",{children:x(o)})]},a))})})]})};export{_ as StopwatchWidget,st as widgetConfig};
