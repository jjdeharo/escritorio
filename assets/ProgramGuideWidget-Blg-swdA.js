import{u as E,r as t,j as s,N as G}from"./index-D8JS3eog.js";import{O as S}from"./index-D8JS3eog.js";import{d as h}from"./marked.esm-IrHqQMcX.js";const d={es:"Guia-Escritorio-Digital.md",ca:"Guia-Escritorio-Digital.ca.md",eu:"Guia-Escritorio-Digital.eu.md",gl:"Guia-Escritorio-Digital.gl.md",en:"Guia-Escritorio-Digital.en.md",fr:"Guia-Escritorio-Digital.fr.md",it:"Guia-Escritorio-Digital.it.md",de:"Guia-Escritorio-Digital.de.md",pt:"Guia-Escritorio-Digital.pt.md"},x=i=>{const e=i.split("-")[0];return d[e]??d.es},N=()=>{const{t:i,i18n:e}=E(),[c,l]=t.useState(""),[g,a]=t.useState(!0),[m,o]=t.useState(!1),n=t.useMemo(()=>x(e.language),[e.language]);return t.useEffect(()=>{let r=!0;return(async()=>{a(!0),o(!1);try{const u=await fetch(G(n),{cache:"no-store"});if(!u.ok)throw new Error("Guide not found");const f=await u.text(),p=h.parse(f);r&&l(p)}catch{r&&o(!0)}finally{r&&a(!1)}})(),()=>{r=!1}},[n]),g?s.jsx("div",{className:"program-guide-status",children:i("loading")}):m?s.jsx("div",{className:"program-guide-status",children:i("widgets.program_guide.load_error")}):s.jsx("div",{className:"program-guide-content",children:s.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:c}})})};export{N as ProgramGuideWidget,S as widgetConfig};
