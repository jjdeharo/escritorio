import{u as N,r as n,j as t,a4 as C,ar as M,as as y,aK as T}from"./react-vendor-C9LHBUkp.js";import{K}from"./index-DIQ32RE2.js";import"./vendor-BnVc6iZf.js";import"./editor-vendor-Dlj3R3R2.js";import"./i18n-vendor-DdbEjq8F.js";const x=e=>{const a=Math.floor(e/6e4).toString().padStart(2,"0"),c=Math.floor(e/1e3%60).toString().padStart(2,"0"),s=Math.floor(e/10%100).toString().padStart(2,"0");return`${a}:${c}.${s}`},k=()=>{const{t:e}=N(),[a,c]=n.useState(0),[s,p]=n.useState(!1),[l,u]=n.useState([]),i=n.useRef(null),h=n.useRef(null),[j,w]=n.useState(48),m=n.useRef(48);n.useEffect(()=>{if(s){const r=Date.now()-a;i.current=window.setInterval(()=>{c(Date.now()-r)},10)}else i.current&&clearInterval(i.current);return()=>{i.current&&clearInterval(i.current)}},[s,a]),n.useEffect(()=>{const r=h.current;if(!r)return;const o=()=>{const{width:z,height:R}=r.getBoundingClientRect(),b=Math.max(28,Math.min(z*.18,R*.5)),d=Math.floor(b);d!==m.current&&(m.current=d,w(d))};o();const f=new ResizeObserver(o);return f.observe(r),()=>f.disconnect()},[]);const S=()=>{p(!s)},g=()=>{p(!1),c(0),u([])},v=()=>{s&&u([a,...l])};return t.jsxs("div",{className:"stopwatch-widget",children:[t.jsx("div",{className:"time-display-container",ref:h,children:t.jsx("span",{className:"time-display-main",style:{fontSize:`${j}px`},children:x(a)})}),t.jsxs("div",{className:"controls-container",children:[t.jsxs("button",{onClick:g,className:"control-button reset",children:[t.jsx(C,{size:20}),t.jsx("span",{children:e("widgets.stopwatch.reset")})]}),t.jsxs("button",{onClick:S,className:`control-button start-stop ${s?"active":""}`,children:[s?t.jsx(M,{size:24}):t.jsx(y,{size:24}),t.jsx("span",{children:e(s?"widgets.stopwatch.pause":"widgets.stopwatch.start")})]}),t.jsxs("button",{onClick:v,disabled:!s&&a===0,className:"control-button lap",children:[t.jsx(T,{size:20}),t.jsx("span",{children:e("widgets.stopwatch.lap")})]})]}),t.jsx("div",{className:"laps-container",children:t.jsx("ul",{className:"laps-list",children:l.map((r,o)=>t.jsxs("li",{className:"lap-item",children:[t.jsxs("span",{children:[e("widgets.stopwatch.lap")," ",l.length-o]}),t.jsx("span",{children:x(r)})]},o))})})]})};export{k as StopwatchWidget,K as widgetConfig};
