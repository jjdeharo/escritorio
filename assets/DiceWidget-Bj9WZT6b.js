import{c as b,u as v,r as n,j as e,I as N}from"./index-Drqpmo9T.js";import{h as E}from"./index-Drqpmo9T.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],_=b("dices",k),R=()=>{const{t:l}=v(),[o,p]=n.useState(2),[f,d]=n.useState([]),[u,m]=n.useState(0),[a,h]=n.useState(!1),c=n.useRef(null);n.useEffect(()=>{c.current=new Audio("/sounds/dice-142528.mp3")},[]);const g=()=>{if(a||!c.current)return;h(!0),c.current.currentTime=0,c.current.play().catch(t=>{console.error("Error al reproducir el audio:",t)});const s=Array.from({length:o},(t,i)=>({id:i,value:Math.floor(Math.random()*6)+1,isRolling:!0}));d(s),m(0),setTimeout(()=>{let t=0;const i=s.map(r=>(t+=r.value,{...r,isRolling:!1}));d(i),m(t),h(!1)},1500)},x=s=>{if(a)return;const t=parseInt(s.target.value,10);t>0&&t<=10&&p(t)},j=({value:s,isRolling:t})=>{const i=r=>e.jsx("div",{className:`face face-${r}`,children:Array.from({length:r}).map((w,y)=>e.jsx("span",{className:"dot"},y))});return e.jsx("div",{className:"die-scene",children:e.jsxs("div",{className:`die-3d ${t?"rolling":`show-${s}`}`,children:[i(1),i(2),i(3),i(4),i(5),i(6)]})})};return e.jsxs("div",{className:"dice-widget",children:[e.jsxs("div",{className:"controls",children:[e.jsxs("div",{className:"dice-selector",children:[e.jsx("label",{htmlFor:"num-dice-input",children:l("widgets.dice.num_dice")}),e.jsx("input",{id:"num-dice-input",type:"number",value:o,onChange:x,min:"1",max:"10",disabled:a})]}),e.jsxs("button",{onClick:g,className:"roll-button",disabled:a,children:[e.jsx(_,{size:20}),l(a?"widgets.dice.rolling":"widgets.dice.roll_dice")]})]}),e.jsx("div",{className:"dice-container",children:f.map(s=>e.jsx(j,{value:s.value,isRolling:s.isRolling},s.id))}),!a&&u>0&&e.jsxs("div",{className:"total",children:[l("widgets.dice.total")," ",e.jsx("span",{children:u})]}),e.jsx("a",{href:"https://pixabay.com/users/u_qpfzpydtro-29496424/?utm_source=link-attribution&utm_medium=referral",target:"_blank",rel:"noopener noreferrer",className:"attribution-button",title:"Sound Effect by u_qpfzpydtro from Pixabay",onClick:s=>s.stopPropagation(),children:e.jsx(N,{size:12})})]})};export{R as DiceWidget,E as widgetConfig};
