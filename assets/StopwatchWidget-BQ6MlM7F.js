import{c as b,u as M,r as n,j as t}from"./index-D8JS3eog.js";import{_ as q}from"./index-D8JS3eog.js";import{R as y}from"./rotate-ccw-DJuqXeXN.js";import{P as C}from"./pause-BrWMq_A-.js";import{P as A}from"./play-D-ruXoPR.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],T=b("flag",I),x=s=>{const a=Math.floor(s/6e4).toString().padStart(2,"0"),i=Math.floor(s/1e3%60).toString().padStart(2,"0"),e=Math.floor(s/10%100).toString().padStart(2,"0");return`${a}:${i}.${e}`},P=()=>{const{t:s}=M(),[a,i]=n.useState(0),[e,p]=n.useState(!1),[l,u]=n.useState([]),r=n.useRef(null),h=n.useRef(null),[j,w]=n.useState(48),m=n.useRef(48);n.useEffect(()=>{if(e){const o=Date.now()-a;r.current=window.setInterval(()=>{i(Date.now()-o)},10)}else r.current&&clearInterval(r.current);return()=>{r.current&&clearInterval(r.current)}},[e,a]),n.useEffect(()=>{const o=h.current;if(!o)return;const c=()=>{const{width:z,height:R}=o.getBoundingClientRect(),N=Math.max(28,Math.min(z*.18,R*.5)),d=Math.floor(N);d!==m.current&&(m.current=d,w(d))};c();const f=new ResizeObserver(c);return f.observe(o),()=>f.disconnect()},[]);const S=()=>{p(!e)},g=()=>{p(!1),i(0),u([])},v=()=>{e&&u([a,...l])};return t.jsxs("div",{className:"stopwatch-widget",children:[t.jsx("div",{className:"time-display-container",ref:h,children:t.jsx("span",{className:"time-display-main",style:{fontSize:`${j}px`},children:x(a)})}),t.jsxs("div",{className:"controls-container",children:[t.jsxs("button",{onClick:g,className:"control-button reset",children:[t.jsx(y,{size:20}),t.jsx("span",{children:s("widgets.stopwatch.reset")})]}),t.jsxs("button",{onClick:S,className:`control-button start-stop ${e?"active":""}`,children:[e?t.jsx(C,{size:24}):t.jsx(A,{size:24}),t.jsx("span",{children:s(e?"widgets.stopwatch.pause":"widgets.stopwatch.start")})]}),t.jsxs("button",{onClick:v,disabled:!e&&a===0,className:"control-button lap",children:[t.jsx(T,{size:20}),t.jsx("span",{children:s("widgets.stopwatch.lap")})]})]}),t.jsx("div",{className:"laps-container",children:t.jsx("ul",{className:"laps-list",children:l.map((o,c)=>t.jsxs("li",{className:"lap-item",children:[t.jsxs("span",{children:[s("widgets.stopwatch.lap")," ",l.length-c]}),t.jsx("span",{children:x(o)})]},c))})})]})};export{P as StopwatchWidget,q as widgetConfig};
