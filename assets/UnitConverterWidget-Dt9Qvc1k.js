import{u as _,r as i,j as s,aM as O}from"./react-vendor-C9LHBUkp.js";import{O as z}from"./index-1oeigWlx.js";import"./vendor-BnVc6iZf.js";import"./editor-vendor-Dlj3R3R2.js";import"./i18n-vendor-BnzbNFM1.js";const f={length:{baseUnit:"meters",units:{meters:e=>e,kilometers:e=>e/1e3,miles:e=>e/1609.34,feet:e=>e*3.28084}},weight:{baseUnit:"kilograms",units:{kilograms:e=>e,grams:e=>e*1e3,pounds:e=>e*2.20462,ounces:e=>e*35.274}},temperature:{baseUnit:"celsius",units:{celsius:e=>e,fahrenheit:e=>e*9/5+32,kelvin:e=>e+273.15}}},B=()=>{const{t:e}=_(),[l,N]=i.useState("length"),[o,h]=i.useState("meters"),[r,p]=i.useState("feet"),[v,u]=i.useState(1),[g,j]=i.useState(""),[x,c]=i.useState("from"),w=Object.keys(f[l].units);i.useEffect(()=>{const t=parseFloat(String(v)),a=parseFloat(String(g)),d=f[l].units;if(x==="from"){if(isNaN(t)){j("");return}let n;if(l==="temperature")o==="fahrenheit"?n=(t-32)*5/9:o==="kelvin"?n=t-273.15:n=t;else{const y=Object.entries(d).find(([C,S])=>C===o)[1];n=t/y(1)}const b=d[r](n);j(parseFloat(b.toFixed(4)))}else if(x==="to"){if(isNaN(a)){u("");return}let n;if(l==="temperature")r==="fahrenheit"?n=(a-32)*5/9:r==="kelvin"?n=a-273.15:n=a;else{const y=Object.entries(d).find(([C,S])=>C===r)[1];n=a/y(1)}const b=d[o](n);u(parseFloat(b.toFixed(4)))}},[v,g,o,r,l,x]);const U=t=>{u(t.target.value),c("from")},V=t=>{j(t.target.value),c("to")},k=t=>{const a=t.target.value;N(a);const m=Object.keys(f[a].units);h(m[0]),p(m[1]||m[0]),u(1),c("from")},F=()=>{h(r),p(o),u(g),c("from")};return s.jsxs("div",{className:"unit-converter-widget",children:[s.jsxs("div",{className:"category-selector",children:[s.jsx("label",{htmlFor:"category",children:e("widgets.unit_converter.category_label")}),s.jsx("select",{id:"category",value:l,onChange:k,children:Object.keys(f).map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.categories.${t}`)},t))})]}),s.jsxs("div",{className:"conversion-interface",children:[s.jsxs("div",{className:"unit-group",children:[s.jsx("input",{type:"number",value:v,onChange:U}),s.jsx("select",{value:o,onChange:t=>{h(t.target.value),c("from")},children:w.map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.units.${t}`)},t))})]}),s.jsx("button",{onClick:F,className:"swap-button",title:e("widgets.unit_converter.swap_button_title"),children:s.jsx(O,{size:20})}),s.jsxs("div",{className:"unit-group",children:[s.jsx("input",{type:"number",value:g,onChange:V}),s.jsx("select",{value:r,onChange:t=>{p(t.target.value),c("to")},children:w.map(t=>s.jsx("option",{value:t,children:e(`widgets.unit_converter.units.${t}`)},t))})]})]})]})};export{B as UnitConverterWidget,z as widgetConfig};
