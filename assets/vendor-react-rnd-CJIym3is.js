import{r as O}from"./vendor-react-CvxLrFbY.js";import{D as B}from"./vendor-react-draggable-CHzIUO8G.js";import{R as G}from"./vendor-re-resizable-Bd8fNV1d.js";import{r as U}from"./vendor-react-dom-ovwEKgq_.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _=function(a,r){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},_(a,r)};function j(a,r){_(a,r);function e(){this.constructor=a}a.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var f=function(){return f=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},f.apply(this,arguments)};function X(a,r){var e={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&r.indexOf(t)<0&&(e[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(a);o<t.length;o++)r.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(a,t[o])&&(e[t[o]]=a[t[o]]);return e}var I={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},q=function(a){return{bottom:a,bottomLeft:a,bottomRight:a,left:a,right:a,top:a,topLeft:a,topRight:a}},Q=function(a){j(r,a);function r(e){var t=a.call(this,e)||this;return t.resizingPosition={x:0,y:0},t.offsetFromParent={left:0,top:0},t.resizableElement={current:null},t.originalPosition={x:0,y:0},t.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},t.onResizeStart=t.onResizeStart.bind(t),t.onResize=t.onResize.bind(t),t.onResizeStop=t.onResizeStop.bind(t),t.onDragStart=t.onDragStart.bind(t),t.onDrag=t.onDrag.bind(t),t.onDragStop=t.onDragStop.bind(t),t.getMaxSizesFromProps=t.getMaxSizesFromProps.bind(t),t}return r.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,o=e.top,s=this.getDraggablePosition(),i=s.x,n=s.y;this.draggable.setState({x:i-t,y:n-o}),this.forceUpdate()},r.prototype.getDraggablePosition=function(){var e=this.draggable.state,t=e.x,o=e.y;return{x:t,y:o}},r.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},r.prototype.getParentSize=function(){return this.resizable.getParentSize()},r.prototype.getMaxSizesFromProps=function(){var e=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,t=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:e,maxHeight:t}},r.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},r.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},r.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},r.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var o=this.getDraggablePosition();if(this.originalPosition=o,!!this.props.bounds){var s=this.getParent(),i=this.props.scale,n;if(this.props.bounds==="parent")n=s;else if(this.props.bounds==="body"){var d=s.getBoundingClientRect(),p=d.left,b=d.top,u=document.body.getBoundingClientRect(),l=-(p-s.offsetLeft*i-u.left)/i,h=-(b-s.offsetTop*i-u.top)/i,c=(document.body.offsetWidth-this.resizable.size.width*i)/i+l,z=(document.body.offsetHeight-this.resizable.size.height*i)/i+h;return this.setState({bounds:{top:h,right:c,bottom:z,left:l}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var S=s.getBoundingClientRect(),w=S.left,D=S.top,m=-(w-s.offsetLeft*i)/i,x=-(D-s.offsetTop*i)/i,c=(window.innerWidth-this.resizable.size.width*i)/i+m,z=(window.innerHeight-this.resizable.size.height*i)/i+x;return this.setState({bounds:{top:x,right:c,bottom:z,left:m}})}else typeof this.props.bounds=="string"?n=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(n=this.props.bounds);if(!(!(n instanceof HTMLElement)||!(s instanceof HTMLElement))){var R=n.getBoundingClientRect(),W=R.left,A=R.top,v=s.getBoundingClientRect(),C=v.left,y=v.top,P=(W-C)/i,g=A-y;if(this.resizable){this.updateOffsetFromParent();var H=this.offsetFromParent;this.setState({bounds:{top:g-H.top,right:P+(n.offsetWidth-this.resizable.size.width)-H.left/i,bottom:g+(n.offsetHeight-this.resizable.size.height)-H.top,left:P-H.left/i}})}}}},r.prototype.onDrag=function(e,t){if(this.props.onDrag){var o=this.offsetFromParent,s=o.left,i=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(e,f(f({},t),{x:t.x+s,y:t.y+i}));if(this.props.dragAxis==="x")return this.props.onDrag(e,f(f({},t),{x:t.x+s,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(e,f(f({},t),{x:this.originalPosition.x+s,y:t.y+i,deltaX:0}))}},r.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var o=this.offsetFromParent,s=o.left,i=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(e,f(f({},t),{x:t.x+s,y:t.y+i}));if(this.props.dragAxis==="x")return this.props.onDragStop(e,f(f({},t),{x:t.x+s,y:this.originalPosition.y+i,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(e,f(f({},t),{x:this.originalPosition.x+s,y:t.y+i,deltaX:0}))}},r.prototype.onResizeStart=function(e,t,o){e.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,i=this.offsetFromParent,n=this.getDraggablePosition();if(this.resizingPosition={x:n.x+i.left,y:n.y+i.top},this.originalPosition=n,this.props.bounds){var d=this.getParent(),p=void 0;this.props.bounds==="parent"?p=d:this.props.bounds==="body"?p=document.body:this.props.bounds==="window"?p=window:typeof this.props.bounds=="string"?p=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(p=this.props.bounds);var b=this.getSelfElement();if(b instanceof Element&&(p instanceof HTMLElement||p===window)&&d instanceof HTMLElement){var u=this.getMaxSizesFromProps(),l=u.maxWidth,h=u.maxHeight,c=this.getParentSize();if(l&&typeof l=="string")if(l.endsWith("%")){var z=Number(l.replace("%",""))/100;l=c.width*z}else l.endsWith("px")&&(l=Number(l.replace("px","")));if(h&&typeof h=="string")if(h.endsWith("%")){var z=Number(h.replace("%",""))/100;h=c.height*z}else h.endsWith("px")&&(h=Number(h.replace("px","")));var S=b.getBoundingClientRect(),w=S.left,D=S.top,m=this.props.bounds==="window"?{left:0,top:0}:p.getBoundingClientRect(),x=m.left,R=m.top,W=this.getOffsetWidth(p),A=this.getOffsetHeight(p),v=t.toLowerCase().endsWith("left"),C=t.toLowerCase().endsWith("right"),y=t.startsWith("top"),P=t.startsWith("bottom");if((v||y)&&this.resizable){var g=(w-x)/s+this.resizable.size.width;this.setState({maxWidth:g>Number(l)?l:g})}if(C||this.props.lockAspectRatio&&!v&&!y){var g=W+(x-w)/s;this.setState({maxWidth:g>Number(l)?l:g})}if((y||v)&&this.resizable){var g=(D-R)/s+this.resizable.size.height;this.setState({maxHeight:g>Number(h)?h:g})}if(P||this.props.lockAspectRatio&&!y&&!v){var g=A+(R-D)/s;this.setState({maxHeight:g>Number(h)?h:g})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,o)},r.prototype.onResize=function(e,t,o,s){var i=this,n={x:this.originalPosition.x,y:this.originalPosition.y},d=-s.width,p=-s.height,b=["top","left","topLeft","bottomLeft","topRight"];b.includes(t)&&(t==="bottomLeft"?n.x+=d:(t==="topRight"||(n.x+=d),n.y+=p));var u=this.draggable.state;(n.x!==u.x||n.y!==u.y)&&U.flushSync(function(){i.draggable.setState(n)}),this.updateOffsetFromParent();var l=this.offsetFromParent,h=this.getDraggablePosition().x+l.left,c=this.getDraggablePosition().y+l.top;this.resizingPosition={x:h,y:c},this.props.onResize&&this.props.onResize(e,t,o,s,{x:h,y:c})},r.prototype.onResizeStop=function(e,t,o,s){this.setState({resizing:!1});var i=this.getMaxSizesFromProps(),n=i.maxWidth,d=i.maxHeight;this.setState({maxWidth:n,maxHeight:d}),this.props.onResizeStop&&this.props.onResizeStop(e,t,o,s,this.resizingPosition)},r.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},r.prototype.updatePosition=function(e){this.draggable.setState(e)},r.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),o=this.getSelfElement();if(!t||o===null)return{top:0,left:0};var s=t.getBoundingClientRect(),i=s.left,n=s.top,d=o.getBoundingClientRect(),p=this.getDraggablePosition(),b=t.scrollLeft,u=t.scrollTop;this.offsetFromParent={left:d.left-i+b-p.x*e,top:d.top-n+u-p.y*e}},r.prototype.render=function(){var e=this,t=this.props,o=t.disableDragging,s=t.style,i=t.dragHandleClassName,n=t.position,d=t.onMouseDown,p=t.onMouseUp,b=t.dragAxis,u=t.dragGrid,l=t.bounds,h=t.enableUserSelectHack,c=t.cancel,z=t.children;t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop;var S=t.resizeHandleStyles,w=t.resizeHandleClasses,D=t.resizeHandleComponent,m=t.enableResizing,x=t.resizeGrid,R=t.resizeHandleWrapperClass,W=t.resizeHandleWrapperStyle,A=t.scale,v=t.allowAnyClick,C=t.dragPositionOffset,y=X(t,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),P=this.props.default?f({},this.props.default):void 0;delete y.default;var g=o||i?{cursor:"auto"}:{cursor:"move"},H=f(f(f({},I),g),s),M=this.offsetFromParent,N=M.left,k=M.top,F;n&&(F={x:n.x-N,y:n.y-k});var L=this.state.resizing?void 0:F,T=this.state.resizing?"both":b;return O.createElement(B,{ref:function(E){E&&(e.draggable=E)},handle:i?".".concat(i):void 0,defaultPosition:P,onMouseDown:d,onMouseUp:p,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:T,disabled:o,grid:u,bounds:l?this.state.bounds:void 0,position:L,enableUserSelectHack:h,cancel:c,scale:A,allowAnyClick:v,nodeRef:this.resizableElement,positionOffset:C},O.createElement(G,f({},y,{ref:function(E){E&&(e.resizable=E,e.resizableElement.current=E.resizable)},defaultSize:P,size:this.props.size,enable:typeof m=="boolean"?q(m):m,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:H,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:x,handleWrapperClass:R,handleWrapperStyle:W,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:S,handleClasses:w,handleComponent:D,scale:this.props.scale}),z))},r.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},r}(O.PureComponent);export{Q as R};
